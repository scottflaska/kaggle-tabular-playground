schema: '2.0'
stages:
  prepare_data:
    cmd: Rscript prepare_data.R
    deps:
    - path: data/train.csv
      md5: 38d8ca74676e1be914a84d2ae3696318
      size: 318733334
    - path: functions/clean_data.R
      md5: 433b9aedf46d085c3f33a1bb78bc584c
      size: 1400
    - path: prepare_data.R
      md5: b24d4e5b90fddaa16264176fc4d5f011
      size: 736
    outs:
    - path: outputs/train_fold.rds
      md5: 5fa200c53e46f97838c037766f11317f
      size: 116800376
    - path: outputs/validation_fold.rds
      md5: 71a28274f0381032b4a021c870094be8
      size: 12904787
  train_model:
    cmd: Rscript train_model.R
    deps:
    - path: outputs/train_fold.rds
      md5: 5fa200c53e46f97838c037766f11317f
      size: 116800376
    - path: outputs/validation_fold.rds
      md5: 71a28274f0381032b4a021c870094be8
      size: 12904787
    - path: train_model.R
      md5: 94ff8cd4145ae29be2d07d182140bb6c
      size: 2806
    outs:
    - path: metrics/roc.txt
      md5: 24ffcd912404f88635af4d377ffd9697
      size: 9
    - path: outputs/machine_state_model.rds
      md5: 5ca6963378c8700f8f3943807cda5067
      size: 272080159
  get_predictions:
    cmd: Rscript get_predictions.R
    deps:
    - path: data/test.csv
      md5: ba8fdae95647d268e6170abb2f96369f
      size: 247187094
    - path: outputs/machine_state_model.rds
      md5: 5ca6963378c8700f8f3943807cda5067
      size: 272080159
    outs:
    - path: outputs/submission_data.csv
      md5: 28798ec6e6849577bdd0c009bc83e747
      size: 19238152
  train_rf_model:
    cmd: Rscript train_rf_model.R
    deps:
    - path: outputs/train_fold.rds
      md5: 5fa200c53e46f97838c037766f11317f
      size: 116800376
    - path: outputs/validation_fold.rds
      md5: 71a28274f0381032b4a021c870094be8
      size: 12904787
    - path: train_rf_model.R
      md5: 91cb0e0ce5647dc18e860635df695847
      size: 1556
    outs:
    - path: metrics/rf_roc.txt
      md5: 1e2fef226f19b5bdafe7be8b0c62b17f
      size: 8
    - path: outputs/machine_state_rf_model.rds
      md5: 4ed9f71e471bbadbc03a08708d0c6943
      size: 65501063
