schema: '2.0'
stages:
  prepare_data:
    cmd: Rscript prepare_data.R
    deps:
    - path: data/train.csv
      md5: 38d8ca74676e1be914a84d2ae3696318
      size: 318733334
    - path: functions/clean_data.R
      md5: 8ed4ffeb8a4fb5c33220e40b356ffb5e
      size: 1278
    - path: prepare_data.R
      md5: 25600eb2ac33a417002c7607614b9baf
      size: 712
    outs:
    - path: outputs/train_fold.rds
      md5: cb38830209f84545b7edbb42ea33094b
      size: 96556853
    - path: outputs/validation_fold.rds
      md5: 28b30949413f0611458f78914d0f0243
      size: 31931231
  train_model:
    cmd: Rscript train_model.R
    deps:
    - path: outputs/train_fold.rds
      md5: cb38830209f84545b7edbb42ea33094b
      size: 96556853
    - path: outputs/validation_fold.rds
      md5: 28b30949413f0611458f78914d0f0243
      size: 31931231
    - path: train_model.R
      md5: 7e41bb4b5dfd26741c9be1e08512261e
      size: 2708
    outs:
    - path: metrics/roc.txt
      md5: 47ef32c8eebd4cab772aa1bce6afc6e5
      size: 9
    - path: outputs/machine_state_model.rds
      md5: ff0ad7ee4abfb40474936970e5413eb1
      size: 210918701
  get_predictions:
    cmd: Rscript get_predictions.R
    deps:
    - path: data/test.csv
      md5: ba8fdae95647d268e6170abb2f96369f
      size: 247187094
    - path: outputs/machine_state_model.rds
      md5: ff0ad7ee4abfb40474936970e5413eb1
      size: 210918701
    outs:
    - path: outputs/submission_data.csv
      md5: b0763592e4e43e71b829111c454f15e5
      size: 19273852
